<!DOCTYPE html>
<html lang="en-US">
  <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-126693951-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-126693951-1');
</script>

    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>WebTyped | Automatically generate TypeScript code for your ASP.NET Web Apis</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="WebTyped" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Automatically generate TypeScript code for your ASP.NET Web Apis" />
<meta property="og:description" content="Automatically generate TypeScript code for your ASP.NET Web Apis" />
<link rel="canonical" href="https://guimabdo.github.io/WebTyped/" />
<meta property="og:url" content="https://guimabdo.github.io/WebTyped/" />
<meta property="og:site_name" content="WebTyped" />
<script type="application/ld+json">
{"@type":"WebSite","headline":"WebTyped","url":"https://guimabdo.github.io/WebTyped/","name":"WebTyped","description":"Automatically generate TypeScript code for your ASP.NET Web Apis","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="/WebTyped/assets/css/style.css?v=20ca446c481336d44d28036514ec545ea9815d24">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">WebTyped</h1>
      <h2 class="project-tagline">Automatically generate TypeScript code for your ASP.NET Web Apis</h2>
      
        <a href="https://github.com/guimabdo/WebTyped" class="btn">View on GitHub</a>
      
      
    </section>

    <section class="main-content">
      <p><a href="https://ci.appveyor.com/project/guimabdo/webtyped"><img src="https://ci.appveyor.com/api/projects/status/github/guimabdo/webtyped?svg=true" alt="Build status" /></a></p>
<h1 id="webtyped-">WebTyped <a href="https://www.npmjs.com/search?q=@guimabdo/webtyped"><img src="https://img.shields.io/npm/v/@guimabdo/webtyped-common.svg" alt="Latest version" /></a></h1>

<p>WebTyped is a tool for generating strongly typed TypeScript code from your http://ASP.NET or http://ASP.NET/core Web Apis.</p>

<h2 id="quick-start">Quick Start</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install @guimabdo/webtyped -g
npm install @guimabdo/webtyped-common
npm install @guimabdo/webtyped-[fetch|jquery|angular|angular4]

</code></pre></div></div>

<p>Create a webtyped.json configuration file in your project.
Example:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
	<span class="s2">"files"</span><span class="p">:</span> <span class="p">[</span>
		<span class="s2">"../Controllers/**/*.cs"</span><span class="p">,</span>
		<span class="s2">"../Models/**/*.cs"</span>
	<span class="p">],</span>
	<span class="s2">"outDir"</span><span class="p">:</span> <span class="s2">"./webtyped/"</span><span class="p">,</span> <span class="c1">//optional, default: "webtyped",</span>
	<span class="s2">"serviceMode"</span><span class="p">:</span> <span class="s2">"angular"</span><span class="p">,</span> <span class="c1">//optional, default: "fetch", current options: "fetch", "angular", "angular4" or "jquery"</span>
	<span class="s2">"trims"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"My.Namespace"</span><span class="p">],</span> <span class="c1">//optional</span>
	<span class="s2">"baseModule"</span><span class="p">:</span> <span class="s2">"WebApis"</span><span class="p">,</span> <span class="c1">//optional</span>
	<span class="s2">"keepPropsCase"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="c1">//optional, default: false. May be useful with old versions of Asp.Net WebApi</span>
	<span class="s2">"clear"</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">//optional, default: true. Delete typescript files that are not part of the current generation</span>
<span class="p">}</span>

</code></pre></div></div>

<p>At the command line, run webtyped:</p>

<pre><code class="language-batchfile">webtyped
</code></pre>
<p>Or use ‘watch’ option for generating typescript code and start watching cs files:</p>

<pre><code class="language-batchfile">webtyped watch
</code></pre>

<p>Use generated services wherever you want:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">MyService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'./webtyped/&lt;services-folder&gt;'</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">myService</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyService</span><span class="p">();</span> <span class="c1">//Generated from MyController.cs</span>
<span class="nx">myService</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="nx">result</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">));</span>
</code></pre></div></div>

<h3 id="angular">Angular</h3>

<p>webtyped.json</p>
<ul>
  <li>serviceMode: “angular” for &gt;=6.0.0</li>
  <li>serviceMode: “angular4” for &gt;=4.3.0 &lt;6.0.0</li>
</ul>

<p>Import the generated module and inject services when needed:</p>

<p>app.module.ts</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">WebTypedGeneratedModule</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'./webtyped'</span><span class="p">;</span>
<span class="p">@</span><span class="nd">NgModule</span><span class="p">({</span>
	<span class="na">imports</span><span class="p">:</span> <span class="p">[</span><span class="nx">WebTypedGeneratedModule</span><span class="p">.</span><span class="nx">forRoot</span><span class="p">()]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">AppModule</span> <span class="p">{}</span>
</code></pre></div></div>

<p>some.component.ts (for example)</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">MyService</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'./webtyped/&lt;services-folder&gt;'</span><span class="p">;</span>
<span class="p">@</span><span class="nd">Component</span><span class="p">({...})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">SomeComponent</span> <span class="p">{</span>
	<span class="kd">constructor</span><span class="p">(</span><span class="nx">myService</span><span class="p">:</span> <span class="nx">MyService</span><span class="p">){}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="requirements">Requirements</h2>

<p>netcore 2.0 on dev machine</p>

<h1 id="webtypedannotations-">WebTyped.Annotations <a href="https://www.nuget.org/packages/WebTyped.Annotations/"><img src="https://img.shields.io/nuget/v/WebTyped.Annotations.svg" alt="Latest version" /></a></h1>

<p>Attributes for changing services/models generator behaviour.</p>

<h3 id="clienttypeattribute">ClientTypeAttribute</h3>

<p>Use this attribute for mapping a Server Model to an existing Client Type so it won’t be transpiled by the generator.</p>
<ul>
  <li>typeName: correspondent client type name, or empty if it has the same name as the server type.</li>
  <li>module: type module, leave it empty if the type is globally visible.</li>
</ul>

<p>Generated API services will know how to resolve the type.</p>

<p>example:</p>
<pre><code class="language-C#">[WebTyped.Annotations.ClientType(module: "primeng/components/common/selectitem")]
public class SelectItem { 
    public string Label { get; set; }
    public long Value { get; set; }
}
</code></pre>

<h3 id="namedtupleattribute">NamedTupleAttribute</h3>

<p>Sometimes your application have lots of multiparameted webapis. Instead of creating a Model for each webapi method, you may want to use Named Tuples like this:</p>

<pre><code class="language-C#">[HttpPost("")]
public void Save([FromBody](name: string, birthdate: DateTime, somethingElse: number) parameters) {[
    ...
}
</code></pre>

<p>This will be transpiled to the client accordingly to .NET compiled tuple field names (Item1, Item2, Item3, …), otherwise deserialization will not work when server receives the data. This will result in a non-friendly usage in client:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">myService</span><span class="p">.</span><span class="nx">save</span><span class="p">({</span> <span class="na">item1</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span> <span class="na">item2</span><span class="p">:</span> <span class="s2">"2010-12-01"</span><span class="p">,</span> <span class="na">item3</span><span class="p">:</span> <span class="mi">42</span><span class="p">});</span>
</code></pre></div></div>

<p>Decorating the method parameter with NamedTuple attribute makes the generator create the client function parameter using the original field names. This function will change the parameter field names (to item1, item2…) before sending it to the server. So the usage becomes:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">myService</span><span class="p">.</span><span class="nx">save</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span> <span class="na">birthdate</span><span class="p">:</span> <span class="s2">"2010-12-01"</span><span class="p">,</span> <span class="na">somethingElse</span><span class="p">:</span> <span class="mi">42</span><span class="p">});</span>
</code></pre></div></div>



      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="https://github.com/guimabdo/WebTyped">WebTyped</a> is maintained by <a href="https://github.com/guimabdo">guimabdo</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </section>

    
  </body>
</html>
